stages:
  - spawn

Main backend:
  stage: spawn
  trigger:
    include: backend/main/.gitlab-ci.yml
  only:
    changes:
      - backend/main/**/*
      - common/**/*
      - scripts/**/*

Web frontend:
  stage: spawn
  trigger:
    include: frontend/web/.gitlab-ci.yml
  only:
    changes:
      - frontend/web/**/*
      - frontend/web/.gitlab-ci.yml
      - frontend/common/**/*
      - common/**/*
      - scripts/**/*

# This will probably go through AppCenter
# Native mobile frontend:
#   stage: spawn
#   trigger:
#     include: frontend/native-mobile/.gitlab-ci.yml
#   only:
#     changes:
#       - frontend/native-mobile/**/*
#       - frontend/common/**/*
#       - common/**/*
#       - scripts/**/*
